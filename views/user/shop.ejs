
<%- include('../layout/header.ejs') -%>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    </head>

    <
        <div class="page-wrapper">
    <%- include('../partials/navbar.ejs') -%>




<main class="main">
    <div class="page-header text-center" style="background-image: url('/static/images/page-header-bg.jpg')">
        <div class="container">
            <h1 class="page-title">FashionZone<span>The ultimate fashion destination for men and women.</span></h1>
        </div><!-- End .container -->
    </div><!-- End .page-header -->
    <nav aria-label="breadcrumb" class="breadcrumb-nav mb-2">
        <div class="container">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="/">Home</a></li>
                <li class="breadcrumb-item active" aria-current="page">Shop</li>
                
            </ol>
        </div><!-- End .container -->
    </nav><!-- End .breadcrumb-nav -->

    <div class="page-content">
        <div class="container">
            <div class="row">
                <div class="col-lg-9">
                    <div class="toolbox">
                        <div class="toolbox-left">
                            <div class="toolbox-info">
                               
                            </div><!-- End .toolbox-info -->
                        </div><!-- End .toolbox-left -->

                        <div class="header-search header-search-extended header-search-visible">
                            <a href="#" class="search-toggle" role="button"><i class="icon-search"></i></a>
                          
                            <form action="/shop" method="get" >
                                <div class="header-search-wrapper search-wrapper-wide">
                                    <label for="q" class="sr-only">Search</label>
                                    <input type="text" value="<%= searchQuery ? searchQuery : '' %>"  class="form-control p-5" name="q" id="q" placeholder="Search product ..." required>
                                    <button class="btn btn-primary p-5" type="submit"><i class="icon-search"></i></button>
                                </div><!-- End .header-search-wrapper -->
                            </form>
                            
                        </div>

                        <div class="toolbox-right">
                            <div class="toolbox-sort">
                                <label for="sortby">Sort by:</label>

                                <div class="select-custom">
                                    <select name="sortby" id="sortby" class="form-control">
                                      <option value="popularity" selected="selected">Most Popular</option>
                                      <option value="rating">Most Rated</option>
                                      <option value="date">Date</option>
                                    </select>
                                  </div>

                            </div><!-- End .toolbox-sort -->
                            
                        </div><!-- End .toolbox-right -->
                    </div><!-- End .toolbox -->

                    <div class="products mb-3">
                       
                       
                       
                       
                       
                       
                        <div class="row justify-content-center">
                            <% if (products && products.length > 0) { %>
                                <% products.forEach((product, index) => { %>
                                    <div class="col-6 col-md-4 col-lg-4">
                                        <div class="product product-7 text-center <% if (index % 2 === 0) { %> product-style-even <% } else { %> product-style-odd <% } %>">
                                            <figure class="product-media">
                                                <% if (product.isActive) { %>
                                                    <span class="product-label label-new">New</span>
                                                <% } %>
                                                <a href="/product/<%= product._id %>?category=<%= product.category %>">
                                                    <img src="/<%= product.images[0] %>" alt="<%= product.title %>" class="product-image">
                                                </a>
                                                <div class="product-action-vertical">
                                                    <a href="#" class="btn-product-icon btn-wishlist btn-expandable">
                                                        <span>Add to wishlist</span>
                                                    </a>
                                                    <a href="/product/<%= product._id %>?category=<%= product.category %>" class="btn-product-icon btn-quickview" title="Quick view">
                                                        <span>Quick view</span>
                                                    </a>
                                                </div>
                                                <div class="product-action d-flex justify-content-center">
                                                    <form action="/cart/add/<%= product._id %>" method="POST">
                                                        <button type="submit" class="btn-product btn-cart" style="border: none;">
                                                            <span>Add to cart</span>
                                                        </button>
                                                    </form>
                                                </div>
                                            </figure>
                                            <div class="product-body">
                                                <div class="product-cat">
                                                    <a href="/category/<%= product.category %>"><%= product.category %></a>
                                                </div>
                                                <h3 class="product-title">
                                                    <a href="/product/<%= product._id %>"><%= product.title %></a>
                                                </h3>
                                                <div class="product-price">
                                                    <% if (product.disPrice && product.disPrice < product.price) { %>
                                                        <span class="new-price">$<%= product.disPrice %></span>
                                                        <span class="old-price">$<%= product.price %></span>
                                                    <% } else { %>
                                                        $<%= product.price %>
                                                    <% } %>
                                                </div>
                                                <div class="ratings-container">
                                                    <div class="ratings">
                                                        <div class="ratings-val" style="width: 80%;"></div>
                                                    </div>
                                                    <span class="ratings-text">(5 Reviews)</span>
                                                </div>
                                                <div class="product-nav product-nav-thumbs">
                                                    <% product.images.forEach((image, index) => { %>
                                                        <a href="#" class="<%= index === 0 ? 'active' : '' %>">
                                                            <img src="/<%= image %>" alt="<%= product.title %>">
                                                        </a>
                                                    <% }); %>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                <% }); %>
                            <% } else { %>
                                <div class="col-12">
                                    <p>No products available.</p>
                                </div>
                            <% } %>
                        </div>
                        <!-- End .row -->
                   
                   
                   
                   
                   
                   
                   
                    </div><!-- End .products -->

                   

                    <nav aria-label="Page navigation">
                        <ul class="pagination justify-content-center">
                            <!-- Previous Page Link -->
                            <li class="page-item <%= currentPage === 1 ? 'disabled' : '' %>">
                                <a class="page-link page-link-prev" href="/shop?page=<%= currentPage - 1 %>&q=<%= searchQuery %>" aria-label="Previous">
                                    <span aria-hidden="true"><i class="icon-long-arrow-left"></i></span>Prev
                                </a>
                            </li>
                    
                            <!-- Page Numbers -->
                            <% for (let i = 1; i <= totalPages; i++) { %>
                                <li class="page-item <%= currentPage === i ? 'active' : '' %>">
                                    <a class="page-link" href="/shop?page=<%= i %>&q=<%= searchQuery %>"><%= i %></a>
                                </li>
                            <% } %>
                    
                            <!-- Total Pages -->
                            <li class="page-item-total">of <%= totalPages %></li>
                    
                            <!-- Next Page Link -->
                            <li class="page-item <%= currentPage === totalPages ? 'disabled' : '' %>">
                                <a class="page-link page-link-next" href="/shop?page=<%= currentPage + 1 %>&q=<%= searchQuery %>" aria-label="Next">
                                    Next <span aria-hidden="true"><i class="icon-long-arrow-right"></i></span>
                                </a>
                            </li>
                        </ul>
                    </nav>
                    





                </div><!-- End .col-lg-9 -->
                <aside class="col-lg-3 order-lg-first">
                    <div class="sidebar sidebar-shop">
                        <div class="widget widget-clean">
                            <label>Filters:</label>
                            <a href="#" class="sidebar-filter-clear">Clean All</a>
                        </div><!-- End .widget widget-clean -->

                        <div class="toolbox-sort">
                            <div class="select-custom w-100">
                                <select name="sortby" id="sortby" class="form-control">
                                    <option value="" selected="selected">All Products</option>
                                    <option value="Classic">Classic</option>
                                    <option value="Modern">Modern</option>
                                    <option value="Streetware">Streetware</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="widget widget-collapsible">
                            <h3 class="widget-title">
                                <a data-toggle="collapse" href="#widget-1" role="button" aria-expanded="true" aria-controls="widget-1">
                                    Sorted On
                                </a>
                            </h3><!-- End .widget-title -->
                            <a href="/shop/sort/newarrivals" class="mt-5" id="newArrivals">New Arrivals</a> <br>
                            <a href="/shop/sort/featured" class="mt-5" id="featured">Featured Products</a> <br>
                            <a href="/shop/sort/low-to-high" class="mt-5" id="lowToHigh">Price: Low to High</a> <br>
                            <a href="/shop/sort/high-to-low" class="mt-5" id="highToLow">Price: High to Low</a> <br>
                            <a href="/shop/sort/a-to-z" class="mt-5" id="sortAZ">Sort A to Z</a> <br>
                            <a href="/shop/sort/z-to-a" class="mt-5" id="sortZA">Sort Z to A</a> <br>
                            <a href="/shop/sort/men" class="mt-5" id="men">Men's</a> <br>
                            <a href="/shop/sort/women" class="mt-5" id="women">Womenâ€™s</a> <br>
                            
                        </div>
                        

                    </div><!-- End .sidebar sidebar-shop -->
                </aside><!-- End .col-lg-3 -->
            </div><!-- End .row -->
        </div><!-- End .container -->
    </div><!-- End .page-content -->
</main><!-- End .main -->








<%- include('../partials/footer.ejs')-%>



</body>
</div>